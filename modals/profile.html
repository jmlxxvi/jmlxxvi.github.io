<div class="modal-header">
    <h5 class="modal-title">Profile</h5>
</div>
<div class="modal-body">

    <form id="index_profile_form">

        <div class="form-group">
            <label for="index_profile_current_password">Current Password</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                </div>
                <input class="form-control" placeholder="Password" type="password" id="index_profile_current_password" name="index_profile_current_password">
            </div>
        </div>

        <div class="form-group">
            <label for="index_profile_new_password">New Password</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                </div>
                <input class="form-control" placeholder="Password" type="password" id="index_profile_new_password" name="index_profile_new_password">
            </div>
        </div>

        <div class="form-group">
            <label for="index_profile_retype_password">Retype Password</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                </div>
                <input class="form-control" placeholder="Password" type="password" id="index_profile_retype_password" name="index_profile_retype_password">
            </div>
        </div>

    </form>
</div>
<div class="modal-footer">
    <button type="button" id="index_profile_execute_button" class="btn btn-primary">Change Password</button>
</div>

<script>

    $(() => {

        const validator = $("#index_profile_form").validate({
            rules: {
                index_profile_current_password: {
                    required: true
                },
                index_profile_new_password: "required",
                index_profile_retype_password: {
                    equalTo: "#index_profile_new_password"
                }
            }
        });

        $("#index_profile_execute_button").on("click", (event) => {

            if(validator.form()) {

                INDEX.change_password([
                    $("#index_profile_current_password").val(),
                    $("#index_profile_new_password").val(),
                    $("#index_profile_retype_password").val()
                ]);

                //INDEX.flash("Eedwedwe");

            }

        });

    });





    

</script>